<div class="btn-group small">$r.render("new.circle") $r.render("new.rectangle")</div>
<div id="o_qti_hotspots_edit" style="position:relative; width:${width}px; height:${height}px; #if($filename && !${filename.isEmpty()}) background-image: url($mapperUri/$filename); #end">
#foreach($hotspot in $hotspots)
	<input type="hidden" id="${hotspot.identifier}_shape" name="${hotspot.identifier}_shape" value="${hotspot.shape}" />
	<input type="hidden" id="${hotspot.identifier}_coords" name="${hotspot.identifier}_coords" value="${hotspot.coords}" />
#end
</div>
<script type="text/javascript">
/* <![CDATA[ */
jQuery(function() {
	var board = jQuery("#o_qti_hotspots_edit").drawing();
	#foreach($hotspot in $hotspots)
		board.shape('${hotspot.identifier}','${hotspot.shape}','${hotspot.coords}')
			.addClass(#if($hotspot.correct) 'o_qti_hotspot_correct' #else 'o_qti_hotspot_not_correct' #end)
			.on("resizestop dragstop", function(event, ui) {
				$r.openJavaScriptCommand("move-hotspot"),'hotspot',ui.helper.attr('id'),'coords',board.getCoords(ui.helper));
			})
			.append("<span class='o_qti_hotspot_label'>${foreach.count}.</span>")
			.append("<a class='o_qti_hotspot_delete' href='javascript:;' data-qti-hotspot='${hotspot.identifier}'><i class='o_icon o_icon_remove'> </i></a>");
	#end
	jQuery("#o_qti_hotspots_edit a.o_qti_hotspot_delete").on('click', function(e) {
		$r.openJavaScriptCommand("delete-hotspot"),'hotspot',jQuery(this).data('qti-hotspot'));
	})
});
/* ]]> */
</script>
<div class="o_portfolio_page_editor">
	#foreach($fragment in $fragments)
		#if($fragment.editMode)
			<div class="o_block o_page_fragment_edit">
				<div class="o_page_tools_above clearfix">
					<div class="o_page_add_above">
						$r.render("$fragment.addElementAboveLinkName")
					</div>
					<div class="o_page_others_above">
						$r.render("$fragment.moveUpLinkName")
						$r.render("$fragment.moveDownLinkName")
						$r.render("$fragment.deleteLinkName")
					</div>
				</div>
				<div class="o_page_part" data-oo-page-fragment="$fragment.componentName">
				$r.render($fragment.componentName)
				</div>
				<div class="o_page_add_below">
				$r.render("$fragment.addElementBelowLinkName")
				</div>
			</div>
		#else
			<div class="o_page_part o_block_large" data-oo-page-fragment="$fragment.componentName">
				$r.render($fragment.componentName)
			</div>
		#end
	#end
	
	<div class="panel panel-placeholder">
		<div class="panel-heading">
			<h4 class="panel-title">$r.translate("add.content.title")</h4>
		</div>
		<div class="panel-body">
			<p>$r.translate("add.content.descr")</p>
			<div class="o_button_group o_toolbar">
				<ul class="o_tools o_tools_left list-inline">
				#foreach($addElementLink in $addElementLinks)
					<li class="o_tool">$r.render($addElementLink)</li>
				#end
				</ul>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">
/* <![CDATA[ */
jQuery(function() {
	jQuery(".o_page_part").each(function(index, el) {
		var element = jQuery(el);
		element.on('click', function(e) {
			$r.openJavaScriptCommand("edit_fragment"),'fragment',jQuery(element).data('oo-page-fragment'));
		});
	});
});
/* ]]> */
</script>

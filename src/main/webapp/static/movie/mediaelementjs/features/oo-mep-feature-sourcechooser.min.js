(function(a){a.extend(mejs.MepDefaults,{sourcechooserText:"Source Chooser"});a.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(e,b,g,f){var d=this;e.sourcechooserButton=a('<div class="mejs-button mejs-sourcechooser-button"><button type="button" aria-controls="'+d.id+'" title="'+d.options.sourcechooserText+'" aria-label="'+d.options.sourcechooserText+'"></button><div class="mejs-sourcechooser-selector mejs-offscreen"><ul></ul></div></div>').appendTo(b).hover(function(){a(this).find(".mejs-sourcechooser-selector").removeClass("mejs-offscreen")},function(){a(this).find(".mejs-sourcechooser-selector").addClass("mejs-offscreen")}).delegate("input[type=radio]","click",function(){var l=this.value;if(f.currentSrc!=l){var k=f.currentTime;var j=f.paused;f.pause();f.setSrc(l);f.addEventListener("loadedmetadata",function(m){f.currentTime=k},true);var i=function(m){if(!j){f.play()}f.removeEventListener("canplay",i,true)};f.addEventListener("canplay",i,true);f.load()}});for(var c in this.node.children){var h=this.node.children[c];if(h.nodeName==="SOURCE"&&(f.canPlayType(h.type)=="probably"||f.canPlayType(h.type)=="maybe")){e.addSourceButton(h.src,h.title,h.type,f.src==h.src)}}},addSourceButton:function(f,c,e,b){var d=this;if(c===""||c==undefined){c=f}e=e.split("/")[1];d.sourcechooserButton.find("ul").append(a('<li><input type="radio" name="'+d.id+'_sourcechooser" id="'+d.id+"_sourcechooser_"+c+e+'" value="'+f+'" '+(b?'checked="checked"':"")+' /><label for="'+d.id+"_sourcechooser_"+c+e+'">'+c+'<span class="type">('+e+")</span></label></li>"));d.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var b=this;b.sourcechooserButton.find(".mejs-sourcechooser-selector").height(b.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(true))}})})(mejs.$);
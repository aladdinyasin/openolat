(function(a){a.extend(mejs.MepDefaults,{sourcechooserText:"Source Chooser"});a.extend(MediaElementPlayer.prototype,{buildsourcechooser:function(e,b,h,g){var d=this;var f;e.sourcechooserButton=a('<div class="mejs-button mejs-sourcechooser-button"><button type="button" aria-controls="'+d.id+'" title="'+d.options.sourcechooserText+'" aria-label="'+d.options.sourcechooserText+'"></button><div class="mejs-sourcechooser-selector mejs-offscreen"><ul></ul></div></div>').appendTo(b).hover(function(){clearTimeout(f);a(this).find(".mejs-sourcechooser-selector").removeClass("mejs-offscreen")},function(){var i=a(this);f=setTimeout(function(){i.find(".mejs-sourcechooser-selector").addClass("mejs-offscreen")},500)}).delegate("input[type=radio]","click",function(){var m=this.value;if(g.currentSrc!=m){var l=g.currentTime;var k=g.paused;g.pause();g.setSrc(m);g.addEventListener("loadedmetadata",function(n){g.currentTime=l},true);var i=function(n){if(!k){g.play()}g.removeEventListener("canplay",i,true)};g.addEventListener("canplay",i,true);g.load()}});for(var c in this.node.children){var j=this.node.children[c];if(j.nodeName==="SOURCE"&&(g.canPlayType(j.type)=="probably"||g.canPlayType(j.type)=="maybe")){e.addSourceButton(j.src,j.title,j.type,g.src==j.src)}}},addSourceButton:function(f,c,e,b){var d=this;if(c===""||c==undefined){c=f}e=e.split("/")[1];d.sourcechooserButton.find("ul").append(a('<li><input type="radio" name="'+d.id+'_sourcechooser" id="'+d.id+"_sourcechooser_"+c+e+'" value="'+f+'" '+(b?'checked="checked"':"")+' /><label for="'+d.id+"_sourcechooser_"+c+e+'">'+c+'<span class="type">('+e+")</span></label></li>"));d.adjustSourcechooserBox()},adjustSourcechooserBox:function(){var b=this;b.sourcechooserButton.find(".mejs-sourcechooser-selector").height(b.sourcechooserButton.find(".mejs-sourcechooser-selector ul").outerHeight(true))}})})(mejs.$);